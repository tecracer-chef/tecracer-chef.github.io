<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Restrict AWS Marketplace offerings with private Marketplace | tecRacer Chef</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel=canonical href=https://tecracer-chef.github.io/2023/04/restrict-aws-marketplace-offerings-with-private-marketplace.html><meta http-equiv=content-language content="en-us"><meta property="og:type" content="website"><meta property="og:site_name" content="tecRacer Chef"><meta property="og:title" content="Restrict AWS Marketplace offerings with private Marketplace"><meta property="og:url" content="https://tecracer-chef.github.io/2023/04/restrict-aws-marketplace-offerings-with-private-marketplace.html"><meta property="og:image" content="https://tecracer-chef.github.io/images/"><meta name=twitter:title content="tecRacer Chef"><meta name=twitter:url content="https://tecracer-chef.github.io/2023/04/restrict-aws-marketplace-offerings-with-private-marketplace.html"><meta name=twitter:image content="https://tecracer-chef.github.io/images/"><meta name=twitter:card content><link rel=alternate href=/blog/feed title="Patrick Schaumburg" type=application/rss+xml><link href=https://tecracer-chef.github.io/css/theme.css rel=stylesheet><script src=https://tecracer-chef.github.io/js/jquery.min.js></script>
<script src=https://tecracer-chef.github.io/js/uikit.min.js></script>
<script src=https://tecracer-chef.github.io/js/fa-all.js></script></head><body><div class="uk-container uk-container-center"><div class=tm-header><div class="tm-toolbar uk-clearfix uk-hidden-small"><div class=uk-float-right><div class=uk-panel><ul class=uk-subnav><li><a href=https://github.com/tecracer-chef class="uk-icon-hover uk-icon-small uk-icon-github" target=_blank></a></li><li><a href=https://twitter.com/tecracer class="uk-icon-hover uk-icon-small uk-icon-twitter" target=_blank></a></li><li><a href=https://www.xing.com/companies/tecracergmbh%26co.kg class="uk-icon-hover uk-icon-small uk-icon-xing" target=_blank></a></li><li><a href=https://www.linkedin.com/company/tecracer-group/ class="uk-icon-hover uk-icon-small uk-icon-linkedin" target=_blank></a></li><li><a href=https://www.facebook.com/tecRacer class="uk-icon-hover uk-icon-small uk-icon-facebook" target=_blank></a></li></ul></div></div></div><nav class=uk-navbar><a class=uk-navbar-brand href=/><img class="tm-logo uk-responsive-height uk-hidden-small" src=https://tecracer-chef.github.io/img/logo/logo-tr.png alt>
<img class="tm-logo-small uk-responsive-height uk-visible-small" src=https://tecracer-chef.github.io/img/logo/logo-tr.png alt></a><div class=uk-hidden-small><ul class=uk-navbar-nav><li><a href=/ title>Blog</a></li><li><a href=/authors title>Authors</a></li><li><a href=/github/github-prs.html title>Pull Requests</a></li></ul></div><div class="uk-navbar-flip uk-visible-small"><a href=#offcanvas class=uk-navbar-toggle data-uk-offcanvas></a></div></nav></div><div id=content><main id=tm-content class=tm-content><article class=uk-article><div class="tm-article-featured-image uk-cover-background" style=background-image:url(img/2023/04/julia-fiander-gbJAejsWnZ4-unsplash.jpg)></div><div class="tm-article-content uk-position-relative"><div class="tm-article-date uk-text-center"><span class=tm-article-date-day>21</span>
<span class=tm-article-date-month>Apr</span></div><h1 class=uk-article-title>Restrict AWS Marketplace offerings with private Marketplace</h1><p class=uk-article-meta>Written by
<a target=_self title="Patrick Schaumburg's Author Profile SINGLE.HTML" href=/authors/patrick-schaumburg data-original-title="Author's Profile">Patrick Schaumburg</a></p><div class=uk-margin><p>People are constantly stumbling over the AWS Marketplace and their more than 30,000 public offerings. Restricting such a massive amount of products is mainly done with the necessary internal AWS Marketplace policy that you find in a document in document management systems like AWS WorkDocs.
What would you say about better restricting the public AWS Marketplace with a private Marketplace?</p><p>The private Marketplace is an excellent possibility for every company that wants to restrict access to new AWS Marketplace purchases, even when those are at no cost.
When enabled, it redirects every logged-in user to the private Marketplace when opening the regular AWS Marketplace. It can also be adjusted in minor ways, like giving the Marketplace its name and adding a description and a logo. Look what I did in 10 minutes of playing around with it.</p><p><img src=/img/2023/04/private-marketplace-web.png alt="Private Marketplace Overview"></p><p>Before going into details, let&rsquo;s see how we get access to it.</p><hr><h2 id=how-to-access>How to access?</h2><p>The first idea was to search for &ldquo;Marketplace&rdquo; in the search bar at the top of the AWS Management Console.
The options offered never mentioned anything about a private Marketplace. So let&rsquo;s first look into <code>AWS Marketplace Subscriptions</code>-service.</p><p><img src=/img/2023/04/private-marketplace-subscriptions.png alt="Marketplace Subscriptions"></p><p>You might see your subscriptions as I have with CentOS when the service is accessed. You can manage them, launch new EC2 instances from that subscription, and more.</p><p>Opening up the left side handed menu, we will find a menu entry named <code>Private Marketplace</code>, an external link to the Marketplace.</p><p><img src=/img/2023/04/private-marketplace-menu-link.png alt="Marketplace Subscriptions"></p><p>Following the <a href=https://aws.amazon.com/marketplace/features/privatemarketplace>link</a>, we will get great information about the private Marketplace. Feel free to read a bit more about it. But let&rsquo;s enable and test it out. I am using a standalone AWS Account without any Organization settings available.</p><h2 id=welcome->Welcome &mldr;</h2><p>&mldr; to the private AWS Marketplace Administration!</p><p><img src=/img/2023/04/private-marketplace-administration.png alt="Private Marketplace Administration"></p><p>I was stunned by the tremendous clean look of the private Marketplace administration. It looks great, and if you take a glimpse into the menu on the left, you will see only four options to choose from:</p><ul><li><strong>Dashboard</strong>: See the current pending requests for accessing new products and approved/declined/blocked/all products</li><li><strong>Bulk add/remove products</strong>: Add multiple products chosen with a filter to one or more of your private Marketplaces</li><li><strong>Experiences</strong>: Another word for private Marketplaces</li><li><strong>Account Groups</strong>: An Account group represents a 1:1 association between a single AWS Account to a single private Marketplace</li></ul><h2 id=start-with-our-first-private-marketplace>Start with our first private Marketplace</h2><p>INFO! When saving anything within the Marketplace administration, please make a note of my experience:</p><ul><li>Saving will need some time (sometimes several minutes)</li><li>Try to click only once on a Save button</li><li>The private Marketplace administration works with frames, so that you might have two or more scrolling bars</li><li>Most problems that might occur are placed in the top part of the frames. So scroll as high as possible. It will also bring you the <code>in Progress</code> information</li></ul><p><img src=/img/2023/04/private-marketplace-inprogress.png alt="Private Marketplace Administration Progress bar"></p><h3 id=create-an-experience-private-marketplace>Create an Experience (private Marketplace)</h3><p>When accessing the Experience menu, you should already have an existing one available.</p><p><img src=/img/2023/04/private-marketplace-experiences.png alt="Private Marketplace Experiences"></p><p>Initially, there is already an Experience available. So open it, and you will see three different tabs:</p><ul><li><strong>Associated AWS Accounts</strong>: This could be one of more Account Groups</li><li><strong>Products</strong>: The same information which you can see in the Dashboard just filtered only for the current opened Experience</li><li><strong>Settings</strong><ul><li>Set the Experience to <code>Live</code> or <code>Not Live</code>, select if the Experience should be archived, Allow or Deny requests for Accessing new products</li><li>Experience: Change the name and description (this is only for the administration)</li><li>Public Profile: Change the name, and description and add a logo for your private Marketplace</li></ul></li></ul><p>To see what the settings are changing, I have changed different settings:</p><p><img src=/img/2023/04/private-marketplace-settings-tab.png alt="Private Marketplace Experience Settings"></p><p>The cool thing about the Public Profile settings is the live preview of everything you do. So whenever the Experience is live, you will get the same view.</p><p>When you are ready with your changes, move on by clicking on <code>Save</code>. As mentioned, this will need some minutes. So move on with the Account Group when the Experience has been updated.</p><h3 id=create-an-account-group-associate-aws-account-with-a-private-marketplace>Create an Account Group (associate AWS Account with a private Marketplace)</h3><p>You now have your Experience configured, but we still need to tell which account we want to roll out this Experience.</p><p><img src=/img/2023/04/private-marketplace-account-groups.png alt="Private Marketplace Account Groups"></p><p>For this, we create an Account Group. I use the same AWS Account where the private Marketplace has been enabled.
Please enter a Title (which I&rsquo;d give the AWS Account name) and add the ID of your current AWS Account.</p><p><img src=/img/2023/04/private-marketplace-account-groups-create.png alt="Private Marketplace Account Groups Create"></p><p>Your private Marketplace is ready to be used when the creation process has finished.</p><h3 id=add-some-products-to-our-experience>Add some products to our Experience</h3><p>The Experience (private Marketplace) is enabled and ready to be used. Now we need some products we want to approve initially.
To do so, go to your created Experience, go to the Products tab, scroll down to the <strong>Approved Products</strong> section and select <strong>All AWS Marketplace products</strong>.</p><p>I am searching for <code>NetApp</code> as we partner with them and want to allow others to use their Marketplace products.
Select all of the first 10 results and click on <strong>Add</strong>. This will take some minutes again to finish.</p><p>Your approved products are now available in the private Marketplace.</p><h3 id=access-the-private-marketplace-from-a-user-non-admin-perspective>Access the private Marketplace from a user (non-admin) perspective</h3><p>To access the private Marketplace, I am using a regular user with no admin permissions (just with the managed policy <code>AWSPrivateMarketplaceRequests</code> - we will need this soon).
With this user logged in, I am opening the <a href=https://aws.amazon.com/awsmarketplace>public AWS Marketplace</a>.
The user is immediately redirected to the private Marketplace and can click on <strong>Explore your private Marketplace</strong>.
Next, you will see the private Marketplace and a predefined filter for <code>Approved Products</code>.</p><p>This is the first time you are accessing your private Supermarket from a user perspective.</p><p>Some might say: Remove the filter! Yes, let&rsquo;s do it!</p><h3 id=requesting-new-products>Requesting new products</h3><p>Removing the filter will bring back all products of the public AWS Marketplace.
Searching for a product like <code>Chef Professional Service Consulting</code> will return you a result.
When clicking on the product, you will get a big red banner on top of the page.</p><p><img src=/img/2023/04/private-marketplace-request-banner.png alt="private Marketplace request banner"></p><p>Within this banner, you can request product approval.</p><p><img src=/img/2023/04/private-marketplace-request-product.png alt="private Marketplace request product"></p><p>The request will then show up in the private Marketplace administration.</p><p><img src=/img/2023/04/private-marketplace-request-product-admin.png alt="private Marketplace request product admin"></p><p>You can now get more details about the request and can approve or decline it.
When approved, it will be published within some minutes.</p><p>The usage of the private Marketplace is from now on the same like the regular marketplace.</p><h2 id=summary>Summary</h2><p>Every organization should use the AWS Marketplace. Implementing the private Marketplace does not only bring an excellent addition to the existing company-wide policies. It also brings a considerable security measure to your environment. It is easy to create, administrate and use.</p><p>When you have any questions about it, give me a ping.</p><p>— Patrick</p><h3 id=thanks-to>Thanks to</h3><p>Photo by Julia Fiander on Unsplash</p></div></div></article><article class=uk-article><div class=container><section class=author-box itemprop=author itemscope itemtype=https://schema.org/Person><div class="media author-box"><div class=media-figure><img alt="Author Image" src=/authors/pschaumburg.jpg class="avatar avatar-100 photo" height=125 width=125></div><div class=media-body><h2><a href=/authors/patrick-schaumburg>Patrick Schaumburg</a></h2><p>Patrick is Cloud Consultant and Trainer at tecRacer Consulting with a focus on Chef, AWS and DevOps.</p><div class=author-icons><a target=_self class=author-website title="Patrick Schaumburg's Author Profile" href=/authors/patrick-schaumburg data-original-title="Author's Profile"><i class="fas fa-id-card"></i></a>
<a target=_new class=author-xing title="Patrick Schaumburg on Xing" href=https://xing.com/profile/Patrick_Schaumburg2 data-original-title=Xing><i class="fab fa-xing"></i></a>
<a target=_new class=author-linkedin title="Patrick Schaumburg on LinkedIn" href=https://linkedin.com/in/patrick-schaumburg-600622ab data-original-title=LinkdIn><i class="fab fa-linkedin"></i></a>
<a target=_new class=author-github title="Patrick Schaumburg on GitHub" href=https://github.com/pschaumburg data-original-title=Github><i class="fab fa-github"></i></a></div></div></div></section></div></article></main></div><div id=tm-footer class=tm-footer><div id=tm-footer class="tm-footer tm-footer-margin-top"><div class="uk-panel uk-panel-space uk-text-center"><p>Copyright © 2018-today by <a href=https://chef.tecracer.de/ target=_blank>tecRacer</a></p></div></div></div><div id=offcanvas class=uk-offcanvas aria-hidden=true><div class="uk-offcanvas-bar uk-offcanvas-bar-flip"><div class="uk-panel uk-text-center"><a href=https://tecracer-chef.github.io/></a>
<img src=https://tecracer-chef.github.io/img/logo/logo-tr.png alt></a></div><ul class="uk-nav uk-nav-offcanvas"><li><a href=/ title>Blog</a></li><li><a href=/authors title>Authors</a></li><li><a href=/github/github-prs.html title>Pull Requests</a></li></ul></div></div></div></body></html>